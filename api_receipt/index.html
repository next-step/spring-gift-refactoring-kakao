<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spring Gift API ëª…ì„¸ì„œ</title>
<style>
  :root {
    --bg-primary: #0d1117;
    --bg-secondary: #161b22;
    --bg-tertiary: #21262d;
    --bg-card: #1c2128;
    --border: #30363d;
    --text-primary: #e6edf3;
    --text-secondary: #8b949e;
    --text-muted: #6e7681;
    --accent: #58a6ff;
    --accent-hover: #79c0ff;
    --get: #3fb950;
    --get-bg: rgba(63,185,80,0.12);
    --post: #58a6ff;
    --post-bg: rgba(88,166,255,0.12);
    --put: #d29922;
    --put-bg: rgba(210,153,34,0.12);
    --delete: #f85149;
    --delete-bg: rgba(248,81,73,0.12);
    --auth-badge: #bc8cff;
    --auth-bg: rgba(188,140,255,0.12);
    --sidebar-w: 280px;
    --radius: 8px;
    --transition: 0.2s ease;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', Helvetica, Arial, sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    overflow-x: hidden;
  }

  /* â”€â”€ Sidebar â”€â”€ */
  .sidebar {
    position: fixed; top: 0; left: 0;
    width: var(--sidebar-w); height: 100vh;
    background: var(--bg-secondary);
    border-right: 1px solid var(--border);
    overflow-y: auto; z-index: 100;
    display: flex; flex-direction: column;
  }
  .sidebar-header { padding: 24px 20px 16px; border-bottom: 1px solid var(--border); }
  .sidebar-header h1 { font-size: 18px; font-weight: 700; letter-spacing: -0.3px; }
  .sidebar-header .subtitle { font-size: 12px; color: var(--text-secondary); margin-top: 4px; }
  .sidebar-nav { flex: 1; padding: 12px 0; }
  .nav-group { margin-bottom: 4px; }
  .nav-group-title {
    padding: 8px 20px 4px; font-size: 11px; font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted);
  }
  .nav-link {
    display: flex; align-items: center; gap: 8px; padding: 6px 20px;
    font-size: 13px; color: var(--text-secondary); text-decoration: none;
    cursor: pointer; transition: all var(--transition); border-left: 2px solid transparent;
  }
  .nav-link:hover { color: var(--text-primary); background: var(--bg-tertiary); }
  .nav-link.active { color: var(--accent); border-left-color: var(--accent); background: rgba(88,166,255,0.06); }
  .nav-method {
    font-size: 10px; font-weight: 700; padding: 1px 5px; border-radius: 3px;
    min-width: 36px; text-align: center; flex-shrink: 0;
  }
  .nav-method.get    { color: var(--get);    background: var(--get-bg); }
  .nav-method.post   { color: var(--post);   background: var(--post-bg); }
  .nav-method.put    { color: var(--put);    background: var(--put-bg); }
  .nav-method.delete { color: var(--delete); background: var(--delete-bg); }
  .nav-path { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
  .sidebar-footer {
    padding: 12px 20px; border-top: 1px solid var(--border);
    font-size: 11px; color: var(--text-muted);
  }

  /* â”€â”€ Main â”€â”€ */
  .main { margin-left: var(--sidebar-w); min-height: 100vh; }

  /* â”€â”€ Top Bar â”€â”€ */
  .topbar {
    position: sticky; top: 0; z-index: 50;
    background: rgba(13,17,23,0.85); backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
    padding: 12px 32px; display: flex; align-items: center; gap: 12px;
  }
  .search-box { flex: 1; max-width: 360px; position: relative; }
  .search-box input {
    width: 100%; padding: 8px 12px 8px 36px;
    background: var(--bg-tertiary); border: 1px solid var(--border);
    border-radius: var(--radius); color: var(--text-primary); font-size: 14px;
    outline: none; transition: border var(--transition);
  }
  .search-box input::placeholder { color: var(--text-muted); }
  .search-box input:focus { border-color: var(--accent); }
  .search-box svg {
    position: absolute; left: 10px; top: 50%;
    transform: translateY(-50%); width: 16px; height: 16px; color: var(--text-muted);
  }

  /* â”€â”€ Base URL & Auth â”€â”€ */
  .global-controls {
    display: flex; align-items: center; gap: 8px; flex-shrink: 0;
  }
  .base-url-input, .global-token-input {
    padding: 6px 10px; font-size: 12px;
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
    background: var(--bg-tertiary); border: 1px solid var(--border);
    border-radius: var(--radius); color: var(--accent); outline: none;
    transition: border var(--transition);
  }
  .base-url-input { width: 210px; }
  .global-token-input { width: 180px; }
  .base-url-input:focus, .global-token-input:focus { border-color: var(--accent); }
  .global-label {
    font-size: 10px; font-weight: 700; text-transform: uppercase;
    letter-spacing: 0.5px; color: var(--text-muted); white-space: nowrap;
  }

  .stat-pills { display: flex; gap: 8px; flex-shrink: 0; margin-left: auto; }
  .stat-pill {
    font-size: 12px; font-weight: 600; padding: 4px 10px; border-radius: 20px;
    background: var(--bg-tertiary); color: var(--text-secondary); border: 1px solid var(--border);
  }
  .stat-pill .count { color: var(--text-primary); }

  /* â”€â”€ Content â”€â”€ */
  .content { padding: 32px; max-width: 960px; }

  /* â”€â”€ Section â”€â”€ */
  .section { margin-bottom: 48px; }
  .section-header {
    display: flex; align-items: center; gap: 12px;
    margin-bottom: 20px; padding-bottom: 12px; border-bottom: 1px solid var(--border);
  }
  .section-icon {
    width: 32px; height: 32px; border-radius: var(--radius);
    display: flex; align-items: center; justify-content: center;
    font-size: 16px; background: var(--bg-tertiary);
  }
  .section-title { font-size: 20px; font-weight: 700; letter-spacing: -0.3px; }
  .section-desc { font-size: 13px; color: var(--text-secondary); margin-left: auto; }

  /* â”€â”€ API Card â”€â”€ */
  .api-card {
    background: var(--bg-card); border: 1px solid var(--border);
    border-radius: var(--radius); margin-bottom: 12px;
    overflow: hidden; transition: border-color var(--transition);
  }
  .api-card:hover { border-color: #484f58; }
  .api-card.get    .card-header { border-left: 3px solid var(--get); }
  .api-card.post   .card-header { border-left: 3px solid var(--post); }
  .api-card.put    .card-header { border-left: 3px solid var(--put); }
  .api-card.delete .card-header { border-left: 3px solid var(--delete); }
  .card-header {
    display: flex; align-items: center; gap: 12px;
    padding: 14px 16px; cursor: pointer; user-select: none;
    transition: background var(--transition);
  }
  .card-header:hover { background: rgba(255,255,255,0.02); }
  .method-badge {
    font-size: 11px; font-weight: 800; padding: 3px 8px; border-radius: 4px;
    min-width: 56px; text-align: center; letter-spacing: 0.5px; flex-shrink: 0;
  }
  .method-badge.get    { color: var(--get);    background: var(--get-bg); }
  .method-badge.post   { color: var(--post);   background: var(--post-bg); }
  .method-badge.put    { color: var(--put);    background: var(--put-bg); }
  .method-badge.delete { color: var(--delete); background: var(--delete-bg); }
  .card-path {
    font-size: 14px; font-weight: 600;
    font-family: 'SF Mono','Fira Code','Cascadia Code',Consolas,monospace;
  }
  .card-desc { font-size: 13px; color: var(--text-secondary); margin-left: auto; white-space: nowrap; }
  .auth-tag {
    font-size: 10px; font-weight: 700; padding: 2px 8px; border-radius: 20px;
    color: var(--auth-badge); background: var(--auth-bg); white-space: nowrap; flex-shrink: 0;
  }
  .chevron {
    width: 16px; height: 16px; color: var(--text-muted);
    transition: transform var(--transition); flex-shrink: 0;
  }
  .api-card.open .chevron { transform: rotate(90deg); }
  .card-body {
    display: none; padding: 0 16px 16px; border-top: 1px solid var(--border);
  }
  .api-card.open .card-body { display: block; }

  .detail-group { margin-top: 16px; }
  .detail-label {
    font-size: 11px; font-weight: 700; text-transform: uppercase;
    letter-spacing: 0.5px; color: var(--text-muted); margin-bottom: 8px;
  }
  .status-badge {
    display: inline-block; font-size: 12px; font-weight: 600;
    padding: 2px 8px; border-radius: 4px; margin-right: 6px; margin-bottom: 4px;
  }
  .status-2xx { color: var(--get); background: var(--get-bg); }
  .status-3xx { color: var(--put); background: var(--put-bg); }
  .status-4xx { color: var(--delete); background: var(--delete-bg); }

  /* â”€â”€ Schema Table â”€â”€ */
  .schema-table { width: 100%; border-collapse: collapse; font-size: 13px; }
  .schema-table th {
    text-align: left; font-size: 11px; font-weight: 700; text-transform: uppercase;
    letter-spacing: 0.5px; color: var(--text-muted); padding: 6px 12px;
    background: var(--bg-tertiary); border-bottom: 1px solid var(--border);
  }
  .schema-table th:first-child { border-radius: 6px 0 0 0; }
  .schema-table th:last-child  { border-radius: 0 6px 0 0; }
  .schema-table td { padding: 8px 12px; border-bottom: 1px solid var(--border); vertical-align: top; }
  .schema-table tr:last-child td { border-bottom: none; }
  .field-name {
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
    font-weight: 600; color: var(--accent); font-size: 12px;
  }
  .field-type {
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
    color: var(--put); font-size: 12px;
  }
  .field-required {
    font-size: 10px; font-weight: 700; padding: 1px 6px; border-radius: 3px;
    color: var(--delete); background: var(--delete-bg);
  }
  .field-optional {
    font-size: 10px; font-weight: 700; padding: 1px 6px; border-radius: 3px;
    color: var(--text-muted); background: var(--bg-tertiary);
  }
  .field-constraint { font-size: 11px; color: var(--text-secondary); }

  /* â”€â”€ Param pills â”€â”€ */
  .param-pill {
    display: inline-block; font-size: 12px; padding: 3px 10px; border-radius: 4px;
    margin-right: 6px; margin-bottom: 4px;
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
    background: var(--bg-tertiary); color: var(--text-secondary); border: 1px solid var(--border);
  }
  .param-pill .param-key { color: var(--accent); font-weight: 600; }
  .param-pill .param-type { color: var(--text-muted); }

  /* â”€â”€ Try It Out â”€â”€ */
  .try-section {
    margin-top: 20px; padding: 16px;
    background: var(--bg-primary); border: 1px solid var(--border);
    border-radius: var(--radius);
  }
  .try-header {
    display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;
  }
  .try-title {
    font-size: 13px; font-weight: 700; color: var(--accent);
    display: flex; align-items: center; gap: 6px;
  }
  .try-btn {
    padding: 6px 16px; font-size: 12px; font-weight: 700; border: none;
    border-radius: var(--radius); cursor: pointer; transition: all var(--transition);
  }
  .try-btn-execute {
    background: var(--accent); color: var(--bg-primary);
  }
  .try-btn-execute:hover { background: var(--accent-hover); }
  .try-btn-execute:disabled {
    opacity: 0.5; cursor: not-allowed;
  }
  .try-btn-clear {
    background: var(--bg-tertiary); color: var(--text-secondary);
    border: 1px solid var(--border); margin-left: 8px;
  }
  .try-btn-clear:hover { color: var(--text-primary); border-color: #484f58; }

  .try-form { display: flex; flex-direction: column; gap: 12px; }
  .try-field { display: flex; flex-direction: column; gap: 4px; }
  .try-field-row { display: flex; align-items: center; gap: 8px; }
  .try-field-label {
    font-size: 11px; font-weight: 700; color: var(--text-muted);
    text-transform: uppercase; letter-spacing: 0.3px;
  }
  .try-field-label .req {
    color: var(--delete); font-size: 10px;
  }
  .try-input {
    padding: 7px 10px; font-size: 13px;
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
    background: var(--bg-secondary); border: 1px solid var(--border);
    border-radius: 6px; color: var(--text-primary); outline: none;
    transition: border var(--transition); width: 100%;
  }
  .try-input:focus { border-color: var(--accent); }
  .try-input::placeholder { color: var(--text-muted); }
  .try-textarea {
    padding: 10px; font-size: 13px; min-height: 120px; resize: vertical;
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
    background: var(--bg-secondary); border: 1px solid var(--border);
    border-radius: 6px; color: var(--text-primary); outline: none;
    transition: border var(--transition); width: 100%; line-height: 1.5;
    tab-size: 2;
  }
  .try-textarea:focus { border-color: var(--accent); }

  .try-url-preview {
    font-size: 12px; padding: 8px 10px;
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
    background: var(--bg-tertiary); border-radius: 6px;
    color: var(--text-secondary); word-break: break-all;
    border: 1px solid var(--border);
  }
  .try-url-preview .method-label { font-weight: 800; margin-right: 8px; }
  .try-url-preview .method-label.get { color: var(--get); }
  .try-url-preview .method-label.post { color: var(--post); }
  .try-url-preview .method-label.put { color: var(--put); }
  .try-url-preview .method-label.delete { color: var(--delete); }

  /* â”€â”€ Response Viewer â”€â”€ */
  .response-viewer {
    margin-top: 16px; display: none;
  }
  .response-viewer.visible { display: block; }
  .response-header {
    display: flex; align-items: center; gap: 12px; margin-bottom: 8px;
  }
  .response-status {
    font-size: 13px; font-weight: 800; padding: 3px 10px;
    border-radius: 4px;
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
  }
  .response-status.s2xx { color: var(--get); background: var(--get-bg); }
  .response-status.s3xx { color: var(--put); background: var(--put-bg); }
  .response-status.s4xx { color: var(--delete); background: var(--delete-bg); }
  .response-status.s5xx { color: #f0883e; background: rgba(240,136,62,0.12); }
  .response-status.error { color: var(--delete); background: var(--delete-bg); }
  .response-time {
    font-size: 11px; color: var(--text-muted);
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
  }

  .response-tabs {
    display: flex; gap: 0; border-bottom: 1px solid var(--border); margin-bottom: 0;
  }
  .response-tab {
    padding: 6px 14px; font-size: 12px; font-weight: 600;
    color: var(--text-muted); cursor: pointer; border-bottom: 2px solid transparent;
    transition: all var(--transition); background: none; border-top: none;
    border-left: none; border-right: none;
  }
  .response-tab:hover { color: var(--text-secondary); }
  .response-tab.active { color: var(--accent); border-bottom-color: var(--accent); }
  .response-tab-content { display: none; }
  .response-tab-content.visible { display: block; }

  .response-body {
    padding: 12px; font-size: 12px; line-height: 1.6;
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
    background: var(--bg-secondary); border: 1px solid var(--border);
    border-radius: 0 0 6px 6px; color: var(--text-primary);
    white-space: pre-wrap; word-break: break-word;
    max-height: 400px; overflow-y: auto;
  }
  .response-headers-list {
    padding: 12px; font-size: 12px; line-height: 1.8;
    font-family: 'SF Mono','Fira Code',Consolas,monospace;
    background: var(--bg-secondary); border: 1px solid var(--border);
    border-radius: 0 0 6px 6px; max-height: 300px; overflow-y: auto;
  }
  .response-headers-list .hdr-key { color: var(--accent); font-weight: 600; }
  .response-headers-list .hdr-val { color: var(--text-secondary); }

  /* JSON Syntax */
  .json-key { color: var(--accent); }
  .json-str { color: var(--get); }
  .json-num { color: var(--put); }
  .json-bool { color: var(--auth-badge); }
  .json-null { color: var(--text-muted); }

  /* â”€â”€ Loading Spinner â”€â”€ */
  .spinner {
    display: inline-block; width: 14px; height: 14px;
    border: 2px solid var(--border); border-top-color: var(--accent);
    border-radius: 50%; animation: spin 0.6s linear infinite;
    vertical-align: middle; margin-right: 6px;
  }
  @keyframes spin { to { transform: rotate(360deg); } }

  /* â”€â”€ No Results â”€â”€ */
  .no-results {
    text-align: center; padding: 64px 0;
    color: var(--text-muted); font-size: 15px; display: none;
  }

  /* â”€â”€ Responsive â”€â”€ */
  @media (max-width: 768px) {
    .sidebar { transform: translateX(-100%); transition: transform 0.3s ease; }
    .sidebar.open { transform: translateX(0); }
    .main { margin-left: 0; }
    .topbar { padding: 12px 16px; flex-wrap: wrap; }
    .content { padding: 20px 16px; }
    .menu-toggle { display: flex; }
    .card-desc { display: none; }
    .stat-pills { display: none; }
    .global-controls { display: none; }
  }
  @media (min-width: 769px) { .menu-toggle { display: none; } }

  .menu-toggle {
    width: 36px; height: 36px; background: var(--bg-tertiary);
    border: 1px solid var(--border); border-radius: var(--radius);
    color: var(--text-primary); cursor: pointer;
    align-items: center; justify-content: center; flex-shrink: 0;
  }
  .overlay {
    display: none; position: fixed; inset: 0;
    background: rgba(0,0,0,0.5); z-index: 99;
  }
  .overlay.show { display: block; }

  .scroll-top {
    position: fixed; bottom: 24px; right: 24px;
    width: 40px; height: 40px; background: var(--accent);
    color: var(--bg-primary); border: none; border-radius: 50%;
    cursor: pointer; display: none; align-items: center; justify-content: center;
    z-index: 50; box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  }
  .scroll-top.visible { display: flex; }
</style>
</head>
<body>

<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <h1>Spring Gift API</h1>
    <div class="subtitle">REST API ëª…ì„¸ì„œ v1.0</div>
  </div>
  <nav class="sidebar-nav" id="sidebarNav"></nav>
  <div class="sidebar-footer">
    ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2026-02-26<br>
    ì´ <strong id="totalCount">0</strong>ê°œì˜ ì—”ë“œí¬ì¸íŠ¸
  </div>
</aside>

<div class="main">
  <div class="topbar">
    <button class="menu-toggle" onclick="toggleSidebar()">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12h18M3 6h18M3 18h18"/></svg>
    </button>
    <div class="search-box">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
      <input type="text" id="searchInput" placeholder="ì—”ë“œí¬ì¸íŠ¸ ê²€ìƒ‰..." oninput="filterAPIs()">
    </div>
    <div class="global-controls">
      <span class="global-label">Base URL</span>
      <input type="text" class="base-url-input" id="baseUrl" value="http://localhost:8080" placeholder="http://localhost:8080">
      <span class="global-label">Token</span>
      <input type="text" class="global-token-input" id="globalToken" placeholder="JWT í† í° ì…ë ¥...">
    </div>
    <div class="stat-pills">
      <div class="stat-pill"><span class="count" style="color:var(--get)">GET</span> <span id="getCount">0</span></div>
      <div class="stat-pill"><span class="count" style="color:var(--post)">POST</span> <span id="postCount">0</span></div>
      <div class="stat-pill"><span class="count" style="color:var(--put)">PUT</span> <span id="putCount">0</span></div>
      <div class="stat-pill"><span class="count" style="color:var(--delete)">DEL</span> <span id="deleteCount">0</span></div>
    </div>
  </div>
  <div class="content" id="content"></div>
  <div class="no-results" id="noResults">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
</div>

<button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">
  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="m18 15-6-6-6 6"/></svg>
</button>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// API DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const API_DATA = [
  {
    group: "ì¸ì¦ (Auth)", icon: "ğŸ”", desc: "ì¹´ì¹´ì˜¤ OAuth2 ë° JWT ì¸ì¦", id: "auth", isAdmin: false,
    endpoints: [
      {
        method: "GET", path: "/api/auth/kakao/login",
        desc: "ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸", auth: false,
        statuses: ["302 Found"], params: [], request: null, response: null,
        notes: "ì¹´ì¹´ì˜¤ OAuth2 ì¸ì¦ í˜ì´ì§€ë¡œ 302 ë¦¬ë‹¤ì´ë ‰íŠ¸. scope: account_email, talk_message"
      },
      {
        method: "GET", path: "/api/auth/kakao/callback",
        desc: "ì¹´ì¹´ì˜¤ OAuth2 ì½œë°± ì²˜ë¦¬", auth: false,
        statuses: ["200 OK"],
        params: [{ name: "code", type: "String", in: "query", required: true, desc: "ì¹´ì¹´ì˜¤ ì¸ì¦ ì½”ë“œ" }],
        request: null,
        response: { name: "TokenResponse", fields: [
          { name: "token", type: "String", required: true, constraint: "JWT ì•¡ì„¸ìŠ¤ í† í°" }
        ]},
        notes: "ì¸ì¦ ì½”ë“œ â†’ ì¹´ì¹´ì˜¤ í† í° ë°œê¸‰ â†’ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ â†’ ìë™ íšŒì›ê°€ì… â†’ ì„œë¹„ìŠ¤ JWT ë°œê¸‰"
      }
    ]
  },
  {
    group: "íšŒì› (Member)", icon: "ğŸ‘¤", desc: "íšŒì› ê°€ì…, ë¡œê·¸ì¸", id: "member", isAdmin: false,
    endpoints: [
      {
        method: "POST", path: "/api/members/register",
        desc: "íšŒì› ê°€ì…", auth: false,
        statuses: ["201 Created", "400 Bad Request"], params: [],
        request: { name: "MemberRequest", fields: [
          { name: "email", type: "String", required: true, constraint: "@NotBlank @Email" },
          { name: "password", type: "String", required: true, constraint: "@NotBlank" }
        ]},
        response: { name: "TokenResponse", fields: [
          { name: "token", type: "String", required: true, constraint: "JWT ì•¡ì„¸ìŠ¤ í† í°" }
        ]},
        notes: "ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ì´ë©´ 400 ë°˜í™˜"
      },
      {
        method: "POST", path: "/api/members/login",
        desc: "ë¡œê·¸ì¸", auth: false,
        statuses: ["200 OK", "400 Bad Request"], params: [],
        request: { name: "MemberRequest", fields: [
          { name: "email", type: "String", required: true, constraint: "@NotBlank @Email" },
          { name: "password", type: "String", required: true, constraint: "@NotBlank" }
        ]},
        response: { name: "TokenResponse", fields: [
          { name: "token", type: "String", required: true, constraint: "JWT ì•¡ì„¸ìŠ¤ í† í°" }
        ]},
        notes: "ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ ë¶ˆì¼ì¹˜ ì‹œ 400 ë°˜í™˜"
      }
    ]
  },
  {
    group: "ì¹´í…Œê³ ë¦¬ (Category)", icon: "ğŸ“‚", desc: "ì¹´í…Œê³ ë¦¬ CRUD", id: "category", isAdmin: false,
    endpoints: [
      {
        method: "GET", path: "/api/categories", desc: "ì „ì²´ ì¹´í…Œê³ ë¦¬ ì¡°íšŒ", auth: false,
        statuses: ["200 OK"], params: [], request: null,
        response: { name: "List<CategoryResponse>", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "color", type: "String", required: true, constraint: "" },
          { name: "imageUrl", type: "String", required: true, constraint: "" },
          { name: "description", type: "String", required: false, constraint: "" }
        ]}, notes: null
      },
      {
        method: "POST", path: "/api/categories", desc: "ì¹´í…Œê³ ë¦¬ ìƒì„±", auth: false,
        statuses: ["201 Created"], params: [],
        request: { name: "CategoryRequest", fields: [
          { name: "name", type: "String", required: true, constraint: "@NotBlank" },
          { name: "color", type: "String", required: true, constraint: "@NotBlank" },
          { name: "imageUrl", type: "String", required: true, constraint: "@NotBlank" },
          { name: "description", type: "String", required: false, constraint: "ì„ íƒ ì‚¬í•­" }
        ]},
        response: { name: "CategoryResponse", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "color", type: "String", required: true, constraint: "" },
          { name: "imageUrl", type: "String", required: true, constraint: "" },
          { name: "description", type: "String", required: false, constraint: "" }
        ]}, notes: null
      },
      {
        method: "PUT", path: "/api/categories/{id}", desc: "ì¹´í…Œê³ ë¦¬ ìˆ˜ì •", auth: false,
        statuses: ["200 OK", "404 Not Found"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "ì¹´í…Œê³ ë¦¬ ID" }],
        request: { name: "CategoryRequest", fields: [
          { name: "name", type: "String", required: true, constraint: "@NotBlank" },
          { name: "color", type: "String", required: true, constraint: "@NotBlank" },
          { name: "imageUrl", type: "String", required: true, constraint: "@NotBlank" },
          { name: "description", type: "String", required: false, constraint: "ì„ íƒ ì‚¬í•­" }
        ]},
        response: { name: "CategoryResponse", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "color", type: "String", required: true, constraint: "" },
          { name: "imageUrl", type: "String", required: true, constraint: "" },
          { name: "description", type: "String", required: false, constraint: "" }
        ]}, notes: null
      },
      {
        method: "DELETE", path: "/api/categories/{id}", desc: "ì¹´í…Œê³ ë¦¬ ì‚­ì œ", auth: false,
        statuses: ["204 No Content"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "ì¹´í…Œê³ ë¦¬ ID" }],
        request: null, response: null, notes: null
      }
    ]
  },
  {
    group: "ìƒí’ˆ (Product)", icon: "ğŸ", desc: "ìƒí’ˆ CRUD (í˜ì´ì§€ë„¤ì´ì…˜ ì§€ì›)", id: "product", isAdmin: false,
    endpoints: [
      {
        method: "GET", path: "/api/products", desc: "ì „ì²´ ìƒí’ˆ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜)", auth: false,
        statuses: ["200 OK"],
        params: [
          { name: "page", type: "int", in: "query", required: false, desc: "í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„°)" },
          { name: "size", type: "int", in: "query", required: false, desc: "í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ 20)" },
          { name: "sort", type: "String", in: "query", required: false, desc: "ì •ë ¬ (ì˜ˆ: name,asc)" }
        ],
        request: null,
        response: { name: "Page<ProductResponse>", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "price", type: "int", required: true, constraint: "" },
          { name: "imageUrl", type: "String", required: true, constraint: "" },
          { name: "categoryId", type: "Long", required: true, constraint: "" }
        ]}, notes: "Spring Data Pageable ê¸°ë°˜ í˜ì´ì§€ë„¤ì´ì…˜"
      },
      {
        method: "GET", path: "/api/products/{id}", desc: "ìƒí’ˆ ë‹¨ê±´ ì¡°íšŒ", auth: false,
        statuses: ["200 OK", "404 Not Found"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "ìƒí’ˆ ID" }],
        request: null,
        response: { name: "ProductResponse", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "price", type: "int", required: true, constraint: "" },
          { name: "imageUrl", type: "String", required: true, constraint: "" },
          { name: "categoryId", type: "Long", required: true, constraint: "" }
        ]}, notes: null
      },
      {
        method: "POST", path: "/api/products", desc: "ìƒí’ˆ ìƒì„±", auth: false,
        statuses: ["201 Created", "400 Bad Request", "404 Not Found"], params: [],
        request: { name: "ProductRequest", fields: [
          { name: "name", type: "String", required: true, constraint: "@NotBlank, ì´ë¦„ ê·œì¹™ ê²€ì¦" },
          { name: "price", type: "int", required: true, constraint: "@Positive (ì–‘ìˆ˜)" },
          { name: "imageUrl", type: "String", required: true, constraint: "@NotBlank" },
          { name: "categoryId", type: "Long", required: true, constraint: "@NotNull" }
        ]},
        response: { name: "ProductResponse", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "price", type: "int", required: true, constraint: "" },
          { name: "imageUrl", type: "String", required: true, constraint: "" },
          { name: "categoryId", type: "Long", required: true, constraint: "" }
        ]}, notes: "ìƒí’ˆëª… ë³„ë„ ìœ íš¨ì„± ê²€ì¦ (ProductNameValidator)"
      },
      {
        method: "PUT", path: "/api/products/{id}", desc: "ìƒí’ˆ ìˆ˜ì •", auth: false,
        statuses: ["200 OK", "400 Bad Request", "404 Not Found"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "ìƒí’ˆ ID" }],
        request: { name: "ProductRequest", fields: [
          { name: "name", type: "String", required: true, constraint: "@NotBlank, ì´ë¦„ ê·œì¹™ ê²€ì¦" },
          { name: "price", type: "int", required: true, constraint: "@Positive (ì–‘ìˆ˜)" },
          { name: "imageUrl", type: "String", required: true, constraint: "@NotBlank" },
          { name: "categoryId", type: "Long", required: true, constraint: "@NotNull" }
        ]},
        response: { name: "ProductResponse", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "price", type: "int", required: true, constraint: "" },
          { name: "imageUrl", type: "String", required: true, constraint: "" },
          { name: "categoryId", type: "Long", required: true, constraint: "" }
        ]}, notes: null
      },
      {
        method: "DELETE", path: "/api/products/{id}", desc: "ìƒí’ˆ ì‚­ì œ", auth: false,
        statuses: ["204 No Content"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "ìƒí’ˆ ID" }],
        request: null, response: null, notes: null
      }
    ]
  },
  {
    group: "ì˜µì…˜ (Option)", icon: "âš™ï¸", desc: "ìƒí’ˆë³„ ì˜µì…˜ ê´€ë¦¬", id: "option", isAdmin: false,
    endpoints: [
      {
        method: "GET", path: "/api/products/{productId}/options", desc: "ìƒí’ˆ ì˜µì…˜ ëª©ë¡ ì¡°íšŒ", auth: false,
        statuses: ["200 OK", "404 Not Found"],
        params: [{ name: "productId", type: "Long", in: "path", required: true, desc: "ìƒí’ˆ ID" }],
        request: null,
        response: { name: "List<OptionResponse>", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "quantity", type: "int", required: true, constraint: "" }
        ]}, notes: null
      },
      {
        method: "POST", path: "/api/products/{productId}/options", desc: "ì˜µì…˜ ì¶”ê°€", auth: false,
        statuses: ["201 Created", "400 Bad Request", "404 Not Found"],
        params: [{ name: "productId", type: "Long", in: "path", required: true, desc: "ìƒí’ˆ ID" }],
        request: { name: "OptionRequest", fields: [
          { name: "name", type: "String", required: true, constraint: "@NotBlank, ìµœëŒ€ 50ì, ì¤‘ë³µ ë¶ˆê°€" },
          { name: "quantity", type: "int", required: true, constraint: "@Min(1) @Max(99,999,999)" }
        ]},
        response: { name: "OptionResponse", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "quantity", type: "int", required: true, constraint: "" }
        ]}, notes: "ê°™ì€ ìƒí’ˆì— ë™ì¼í•œ ì˜µì…˜ëª… ì¤‘ë³µ ë¶ˆê°€"
      },
      {
        method: "DELETE", path: "/api/products/{productId}/options/{optionId}", desc: "ì˜µì…˜ ì‚­ì œ", auth: false,
        statuses: ["204 No Content", "400 Bad Request", "404 Not Found"],
        params: [
          { name: "productId", type: "Long", in: "path", required: true, desc: "ìƒí’ˆ ID" },
          { name: "optionId", type: "Long", in: "path", required: true, desc: "ì˜µì…˜ ID" }
        ],
        request: null, response: null,
        notes: "ìƒí’ˆì— ì˜µì…˜ì´ 1ê°œë§Œ ë‚¨ìœ¼ë©´ ì‚­ì œ ë¶ˆê°€ (400)"
      }
    ]
  },
  {
    group: "ì£¼ë¬¸ (Order)", icon: "ğŸ›’", desc: "ì£¼ë¬¸ ìƒì„± ë° ì¡°íšŒ (ì¸ì¦ í•„ìš”)", id: "order", isAdmin: false,
    endpoints: [
      {
        method: "GET", path: "/api/orders", desc: "ë‚´ ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜)", auth: true,
        statuses: ["200 OK", "401 Unauthorized"],
        params: [
          { name: "page", type: "int", in: "query", required: false, desc: "í˜ì´ì§€ ë²ˆí˜¸" },
          { name: "size", type: "int", in: "query", required: false, desc: "í˜ì´ì§€ í¬ê¸°" },
          { name: "sort", type: "String", in: "query", required: false, desc: "ì •ë ¬ ê¸°ì¤€" }
        ],
        request: null,
        response: { name: "Page<OrderResponse>", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "optionId", type: "Long", required: true, constraint: "" },
          { name: "quantity", type: "int", required: true, constraint: "" },
          { name: "orderDateTime", type: "LocalDateTime", required: true, constraint: "ISO 8601" },
          { name: "message", type: "String", required: false, constraint: "" }
        ]}, notes: "Authorization: Bearer {JWT} í—¤ë” í•„ìˆ˜"
      },
      {
        method: "POST", path: "/api/orders", desc: "ì£¼ë¬¸ ìƒì„± (ìƒí’ˆ êµ¬ë§¤)", auth: true,
        statuses: ["201 Created", "401 Unauthorized", "404 Not Found"], params: [],
        request: { name: "OrderRequest", fields: [
          { name: "optionId", type: "Long", required: true, constraint: "@NotNull" },
          { name: "quantity", type: "int", required: true, constraint: "@Min(1)" },
          { name: "message", type: "String", required: false, constraint: "ì„ íƒ ì‚¬í•­" }
        ]},
        response: { name: "OrderResponse", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "optionId", type: "Long", required: true, constraint: "" },
          { name: "quantity", type: "int", required: true, constraint: "" },
          { name: "orderDateTime", type: "LocalDateTime", required: true, constraint: "ISO 8601" },
          { name: "message", type: "String", required: false, constraint: "" }
        ]}, notes: "í”Œë¡œìš°: ì¸ì¦ â†’ ì˜µì…˜ ê²€ì¦ â†’ ì¬ê³  ì°¨ê° â†’ í¬ì¸íŠ¸ ì°¨ê° â†’ ì €ì¥ â†’ ìœ„ì‹œ ì •ë¦¬ â†’ ì¹´ì¹´ì˜¤ ì•Œë¦¼"
      }
    ]
  },
  {
    group: "ìœ„ì‹œë¦¬ìŠ¤íŠ¸ (Wish)", icon: "ğŸ’", desc: "ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ê´€ë¦¬ (ì¸ì¦ í•„ìš”)", id: "wish", isAdmin: false,
    endpoints: [
      {
        method: "GET", path: "/api/wishes", desc: "ë‚´ ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜)", auth: true,
        statuses: ["200 OK", "401 Unauthorized"],
        params: [
          { name: "page", type: "int", in: "query", required: false, desc: "í˜ì´ì§€ ë²ˆí˜¸" },
          { name: "size", type: "int", in: "query", required: false, desc: "í˜ì´ì§€ í¬ê¸°" },
          { name: "sort", type: "String", in: "query", required: false, desc: "ì •ë ¬ ê¸°ì¤€" }
        ],
        request: null,
        response: { name: "Page<WishResponse>", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "productId", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "ìƒí’ˆëª…" },
          { name: "price", type: "int", required: true, constraint: "ìƒí’ˆ ê°€ê²©" },
          { name: "imageUrl", type: "String", required: true, constraint: "ìƒí’ˆ ì´ë¯¸ì§€" }
        ]}, notes: "Authorization: Bearer {JWT} í—¤ë” í•„ìˆ˜"
      },
      {
        method: "POST", path: "/api/wishes", desc: "ìœ„ì‹œë¦¬ìŠ¤íŠ¸ì— ìƒí’ˆ ì¶”ê°€", auth: true,
        statuses: ["201 Created", "200 OK", "401 Unauthorized", "404 Not Found"], params: [],
        request: { name: "WishRequest", fields: [
          { name: "productId", type: "Long", required: true, constraint: "@NotNull" }
        ]},
        response: { name: "WishResponse", fields: [
          { name: "id", type: "Long", required: true, constraint: "" },
          { name: "productId", type: "Long", required: true, constraint: "" },
          { name: "name", type: "String", required: true, constraint: "" },
          { name: "price", type: "int", required: true, constraint: "" },
          { name: "imageUrl", type: "String", required: true, constraint: "" }
        ]}, notes: "ì´ë¯¸ ì¶”ê°€ëœ ìƒí’ˆì´ë©´ ê¸°ì¡´ ìœ„ì‹œ ë°˜í™˜ (200), ìƒˆë¡œ ì¶”ê°€í•˜ë©´ 201"
      },
      {
        method: "DELETE", path: "/api/wishes/{id}", desc: "ìœ„ì‹œë¦¬ìŠ¤íŠ¸ì—ì„œ ì œê±°", auth: true,
        statuses: ["204 No Content", "401 Unauthorized", "403 Forbidden", "404 Not Found"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "ìœ„ì‹œ ID" }],
        request: null, response: null,
        notes: "ë³¸ì¸ì˜ ìœ„ì‹œë§Œ ì‚­ì œ ê°€ëŠ¥ (íƒ€ì¸ì˜ ìœ„ì‹œ ì‚­ì œ ì‹œ 403)"
      }
    ]
  },
  {
    group: "ê´€ë¦¬ì - íšŒì› (Admin)", icon: "ğŸ› ï¸", desc: "HTML ë·° ê¸°ë°˜ íšŒì› ê´€ë¦¬", id: "admin-member", isAdmin: true,
    endpoints: [
      { method: "GET", path: "/admin/members", desc: "íšŒì› ëª©ë¡ í˜ì´ì§€", auth: false, statuses: ["200 OK"], params: [], request: null, response: { name: "HTML", fields: [] }, notes: "Thymeleaf í…œí”Œë¦¿: member/list" },
      { method: "GET", path: "/admin/members/new", desc: "íšŒì› ìƒì„± í¼", auth: false, statuses: ["200 OK"], params: [], request: null, response: { name: "HTML", fields: [] }, notes: "Thymeleaf í…œí”Œë¦¿: member/new" },
      { method: "POST", path: "/admin/members", desc: "íšŒì› ìƒì„±", auth: false, statuses: ["302 Found"],
        params: [{ name: "email", type: "String", in: "form", required: true, desc: "ì´ë©”ì¼" }, { name: "password", type: "String", in: "form", required: true, desc: "ë¹„ë°€ë²ˆí˜¸" }],
        request: null, response: null, notes: "ì„±ê³µ ì‹œ /admin/membersë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸" },
      { method: "GET", path: "/admin/members/{id}/edit", desc: "íšŒì› ìˆ˜ì • í¼", auth: false, statuses: ["200 OK"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "íšŒì› ID" }],
        request: null, response: { name: "HTML", fields: [] }, notes: "Thymeleaf í…œí”Œë¦¿: member/edit" },
      { method: "POST", path: "/admin/members/{id}/edit", desc: "íšŒì› ì •ë³´ ìˆ˜ì •", auth: false, statuses: ["302 Found"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "íšŒì› ID" }, { name: "email", type: "String", in: "form", required: true, desc: "ì´ë©”ì¼" }, { name: "password", type: "String", in: "form", required: true, desc: "ë¹„ë°€ë²ˆí˜¸" }],
        request: null, response: null, notes: "ì„±ê³µ ì‹œ /admin/membersë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸" },
      { method: "POST", path: "/admin/members/{id}/charge-point", desc: "í¬ì¸íŠ¸ ì¶©ì „", auth: false, statuses: ["302 Found"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "íšŒì› ID" }, { name: "amount", type: "int", in: "query", required: true, desc: "ì¶©ì „ ê¸ˆì•¡" }],
        request: null, response: null, notes: "ì„±ê³µ ì‹œ /admin/membersë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸" },
      { method: "POST", path: "/admin/members/{id}/delete", desc: "íšŒì› ì‚­ì œ", auth: false, statuses: ["302 Found"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "íšŒì› ID" }],
        request: null, response: null, notes: "ì„±ê³µ ì‹œ /admin/membersë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸" }
    ]
  },
  {
    group: "ê´€ë¦¬ì - ìƒí’ˆ (Admin)", icon: "ğŸ› ï¸", desc: "HTML ë·° ê¸°ë°˜ ìƒí’ˆ ê´€ë¦¬", id: "admin-product", isAdmin: true,
    endpoints: [
      { method: "GET", path: "/admin/products", desc: "ìƒí’ˆ ëª©ë¡ í˜ì´ì§€", auth: false, statuses: ["200 OK"], params: [], request: null, response: { name: "HTML", fields: [] }, notes: "Thymeleaf í…œí”Œë¦¿: product/list" },
      { method: "GET", path: "/admin/products/new", desc: "ìƒí’ˆ ìƒì„± í¼", auth: false, statuses: ["200 OK"], params: [], request: null, response: { name: "HTML", fields: [] }, notes: "Thymeleaf í…œí”Œë¦¿: product/new" },
      { method: "POST", path: "/admin/products", desc: "ìƒí’ˆ ìƒì„±", auth: false, statuses: ["302 Found"],
        params: [{ name: "name", type: "String", in: "form", required: true, desc: "ìƒí’ˆëª…" }, { name: "price", type: "int", in: "form", required: true, desc: "ê°€ê²©" }, { name: "imageUrl", type: "String", in: "form", required: true, desc: "ì´ë¯¸ì§€ URL" }, { name: "categoryId", type: "Long", in: "form", required: true, desc: "ì¹´í…Œê³ ë¦¬ ID" }],
        request: null, response: null, notes: "ì„±ê³µ ì‹œ /admin/productsë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸" },
      { method: "GET", path: "/admin/products/{id}/edit", desc: "ìƒí’ˆ ìˆ˜ì • í¼", auth: false, statuses: ["200 OK"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "ìƒí’ˆ ID" }],
        request: null, response: { name: "HTML", fields: [] }, notes: "Thymeleaf í…œí”Œë¦¿: product/edit" },
      { method: "POST", path: "/admin/products/{id}/edit", desc: "ìƒí’ˆ ìˆ˜ì •", auth: false, statuses: ["302 Found"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "ìƒí’ˆ ID" }, { name: "name", type: "String", in: "form", required: true, desc: "ìƒí’ˆëª…" }, { name: "price", type: "int", in: "form", required: true, desc: "ê°€ê²©" }, { name: "imageUrl", type: "String", in: "form", required: true, desc: "ì´ë¯¸ì§€ URL" }, { name: "categoryId", type: "Long", in: "form", required: true, desc: "ì¹´í…Œê³ ë¦¬ ID" }],
        request: null, response: null, notes: "ì„±ê³µ ì‹œ /admin/productsë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸" },
      { method: "POST", path: "/admin/products/{id}/delete", desc: "ìƒí’ˆ ì‚­ì œ", auth: false, statuses: ["302 Found"],
        params: [{ name: "id", type: "Long", in: "path", required: true, desc: "ìƒí’ˆ ID" }],
        request: null, response: null, notes: "ì„±ê³µ ì‹œ /admin/productsë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸" }
    ]
  }
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function mc(m) { return m.toLowerCase(); }

function renderSchemaTable(schema) {
  if (!schema || !schema.fields || schema.fields.length === 0) {
    if (schema && schema.name === 'HTML')
      return '<div style="padding:8px 0;color:var(--text-secondary);font-size:13px;">Thymeleaf HTML ë·° ë°˜í™˜</div>';
    return '';
  }
  let h = `<div style="font-size:12px;color:var(--text-muted);margin-bottom:6px;font-weight:600;">${schema.name}</div>`;
  h += '<table class="schema-table"><thead><tr><th>í•„ë“œ</th><th>íƒ€ì…</th><th>í•„ìˆ˜</th><th>ì œì•½ì¡°ê±´</th></tr></thead><tbody>';
  for (const f of schema.fields) {
    h += `<tr><td><span class="field-name">${f.name}</span></td><td><span class="field-type">${f.type}</span></td>
      <td>${f.required ? '<span class="field-required">í•„ìˆ˜</span>' : '<span class="field-optional">ì„ íƒ</span>'}</td>
      <td><span class="field-constraint">${f.constraint || '-'}</span></td></tr>`;
  }
  return h + '</tbody></table>';
}

function renderParams(params) {
  let h = '';
  for (const p of params)
    h += `<span class="param-pill"><span class="param-key">${p.name}</span> <span class="param-type">${p.type}</span> <span style="color:var(--text-muted);font-size:10px;">[${p.in}]</span></span>`;
  return h;
}

function renderStatuses(statuses) {
  let h = '';
  for (const s of statuses) {
    const c = parseInt(s);
    const cls = c >= 500 ? 'status-4xx' : c >= 400 ? 'status-4xx' : c >= 300 ? 'status-3xx' : 'status-2xx';
    h += `<span class="status-badge ${cls}">${s}</span>`;
  }
  return h;
}

function defaultValue(type) {
  if (type === 'String') return '""';
  if (type === 'Long') return '0';
  if (type === 'int') return '0';
  if (type === 'LocalDateTime') return '"2026-01-01T00:00:00"';
  return 'null';
}

function buildSampleJson(fields) {
  const obj = {};
  for (const f of fields) {
    if (f.type === 'String') obj[f.name] = '';
    else if (f.type === 'Long' || f.type === 'int') obj[f.name] = 0;
    else obj[f.name] = null;
  }
  return JSON.stringify(obj, null, 2);
}

function syntaxHighlight(json) {
  if (typeof json !== 'string') json = JSON.stringify(json, null, 2);
  json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
  return json.replace(
    /("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,
    function (match) {
      let cls = 'json-num';
      if (/^"/.test(match)) {
        cls = /:$/.test(match) ? 'json-key' : 'json-str';
      } else if (/true|false/.test(match)) {
        cls = 'json-bool';
      } else if (/null/.test(match)) {
        cls = 'json-null';
      }
      return '<span class="' + cls + '">' + match + '</span>';
    }
  );
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TRY IT OUT - build form
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buildTrySection(ep, id, isAdmin) {
  if (isAdmin) return '';

  const pathParams = (ep.params || []).filter(p => p.in === 'path');
  const queryParams = (ep.params || []).filter(p => p.in === 'query');
  const hasBody = ep.request && ep.request.fields && ep.request.fields.length > 0;
  const sampleJson = hasBody ? buildSampleJson(ep.request.fields) : '';

  let formHtml = '';

  // Path params
  for (const p of pathParams) {
    formHtml += `<div class="try-field">
      <label class="try-field-label">${p.name} <span class="req">*</span> <span style="font-weight:400;text-transform:none;color:var(--text-muted)">â€” ${p.desc}</span></label>
      <input class="try-input" data-try-path="${p.name}" placeholder="${p.type}" />
    </div>`;
  }

  // Query params
  for (const p of queryParams) {
    formHtml += `<div class="try-field">
      <label class="try-field-label">${p.name} ${p.required ? '<span class="req">*</span>' : ''} <span style="font-weight:400;text-transform:none;color:var(--text-muted)">â€” ${p.desc}</span></label>
      <input class="try-input" data-try-query="${p.name}" placeholder="${p.type}${p.required ? '' : ' (ì„ íƒ)'}" />
    </div>`;
  }

  // Auth override
  if (ep.auth) {
    formHtml += `<div class="try-field">
      <label class="try-field-label">Authorization <span class="req">*</span> <span style="font-weight:400;text-transform:none;color:var(--text-muted)">â€” ë¹„ì›Œë‘ë©´ ìƒë‹¨ ê¸€ë¡œë²Œ í† í° ì‚¬ìš©</span></label>
      <input class="try-input" data-try-auth="1" placeholder="Bearer eyJhbG..." />
    </div>`;
  }

  // Request body
  if (hasBody) {
    formHtml += `<div class="try-field">
      <label class="try-field-label">Request Body (JSON)</label>
      <textarea class="try-textarea" data-try-body="1">${sampleJson}</textarea>
    </div>`;
  }

  return `<div class="try-section" id="try-${id}">
    <div class="try-header">
      <div class="try-title">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
        Try It Out
      </div>
      <div>
        <button class="try-btn try-btn-execute" onclick="executeRequest('${id}')">ì‹¤í–‰</button>
        <button class="try-btn try-btn-clear" onclick="clearResponse('${id}')">ì´ˆê¸°í™”</button>
      </div>
    </div>
    <div class="try-form">${formHtml}</div>
    <div class="try-url-preview" id="url-preview-${id}" style="margin-top:12px;">
      <span class="method-label ${mc(ep.method)}">${ep.method}</span>
      <span id="url-text-${id}">${ep.path}</span>
    </div>
    <div class="response-viewer" id="resp-${id}">
      <div class="response-header">
        <span class="response-status" id="resp-status-${id}"></span>
        <span class="response-time" id="resp-time-${id}"></span>
      </div>
      <div class="response-tabs" id="resp-tabs-${id}">
        <button class="response-tab active" onclick="switchTab('${id}','body')">ì‘ë‹µ ë³¸ë¬¸</button>
        <button class="response-tab" onclick="switchTab('${id}','headers')">í—¤ë”</button>
      </div>
      <div class="response-tab-content visible" id="resp-body-tab-${id}">
        <div class="response-body" id="resp-body-${id}"></div>
      </div>
      <div class="response-tab-content" id="resp-headers-tab-${id}">
        <div class="response-headers-list" id="resp-headers-${id}"></div>
      </div>
    </div>
  </div>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EXECUTE REQUEST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const epRegistry = {};

async function executeRequest(id) {
  const ep = epRegistry[id];
  if (!ep) return;

  const tryEl = document.getElementById('try-' + id);
  const btn = tryEl.querySelector('.try-btn-execute');
  btn.disabled = true;
  btn.innerHTML = '<span class="spinner"></span>ìš”ì²­ ì¤‘...';

  const baseUrl = document.getElementById('baseUrl').value.replace(/\/+$/, '');
  let path = ep.path;

  // Replace path params
  tryEl.querySelectorAll('[data-try-path]').forEach(input => {
    const name = input.dataset.tryPath;
    const val = input.value.trim();
    if (val) path = path.replace('{' + name + '}', encodeURIComponent(val));
  });

  // Query params
  const qp = new URLSearchParams();
  tryEl.querySelectorAll('[data-try-query]').forEach(input => {
    const val = input.value.trim();
    if (val) qp.set(input.dataset.tryQuery, val);
  });
  const qs = qp.toString();
  const fullUrl = baseUrl + path + (qs ? '?' + qs : '');

  // Update preview
  document.getElementById('url-text-' + id).textContent = fullUrl.replace(baseUrl, '');

  // Headers
  const headers = {};
  if (ep.method !== 'GET' && ep.method !== 'DELETE') {
    headers['Content-Type'] = 'application/json';
  }

  // Auth
  if (ep.auth) {
    const localAuth = tryEl.querySelector('[data-try-auth]');
    const authVal = localAuth && localAuth.value.trim() ? localAuth.value.trim() : '';
    const globalToken = document.getElementById('globalToken').value.trim();
    const token = authVal || globalToken;
    if (token) {
      headers['Authorization'] = token.startsWith('Bearer ') ? token : 'Bearer ' + token;
    }
  }

  // Body
  let body = undefined;
  const bodyEl = tryEl.querySelector('[data-try-body]');
  if (bodyEl && bodyEl.value.trim()) {
    body = bodyEl.value.trim();
  }

  const respViewer = document.getElementById('resp-' + id);
  const respStatus = document.getElementById('resp-status-' + id);
  const respTime = document.getElementById('resp-time-' + id);
  const respBody = document.getElementById('resp-body-' + id);
  const respHeaders = document.getElementById('resp-headers-' + id);

  const start = performance.now();

  try {
    const resp = await fetch(fullUrl, {
      method: ep.method,
      headers: headers,
      body: (ep.method !== 'GET' && ep.method !== 'DELETE') ? body : undefined,
    });

    const elapsed = Math.round(performance.now() - start);
    const statusCls = resp.status >= 500 ? 's5xx' : resp.status >= 400 ? 's4xx' : resp.status >= 300 ? 's3xx' : 's2xx';

    respStatus.className = 'response-status ' + statusCls;
    respStatus.textContent = resp.status + ' ' + resp.statusText;
    respTime.textContent = elapsed + 'ms';

    // Headers
    let headersHtml = '';
    resp.headers.forEach((val, key) => {
      headersHtml += `<div><span class="hdr-key">${key}:</span> <span class="hdr-val">${val}</span></div>`;
    });
    respHeaders.innerHTML = headersHtml || '<div style="color:var(--text-muted)">í—¤ë” ì—†ìŒ</div>';

    // Body
    const contentType = resp.headers.get('content-type') || '';
    let text = await resp.text();
    if (contentType.includes('json') && text) {
      try {
        const parsed = JSON.parse(text);
        text = JSON.stringify(parsed, null, 2);
        respBody.innerHTML = syntaxHighlight(text);
      } catch {
        respBody.textContent = text;
      }
    } else if (text) {
      respBody.textContent = text;
    } else {
      respBody.innerHTML = '<span style="color:var(--text-muted)">(ë¹ˆ ì‘ë‹µ)</span>';
    }

    respViewer.classList.add('visible');
    switchTab(id, 'body');

  } catch (err) {
    const elapsed = Math.round(performance.now() - start);
    respStatus.className = 'response-status error';
    respStatus.textContent = 'ERROR';
    respTime.textContent = elapsed + 'ms';
    respBody.innerHTML = `<span style="color:var(--delete)">${err.message}</span>\n\n<span style="color:var(--text-muted)">ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€, CORS ì„¤ì •ì´ ë˜ì–´ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.\nBase URL: ${baseUrl}</span>`;
    respHeaders.innerHTML = '';
    respViewer.classList.add('visible');
    switchTab(id, 'body');
  }

  btn.disabled = false;
  btn.textContent = 'ì‹¤í–‰';
}

function clearResponse(id) {
  const respViewer = document.getElementById('resp-' + id);
  respViewer.classList.remove('visible');
  document.getElementById('resp-body-' + id).innerHTML = '';
  document.getElementById('resp-headers-' + id).innerHTML = '';
}

function switchTab(id, tab) {
  const tabs = document.getElementById('resp-tabs-' + id);
  if (!tabs) return;
  tabs.querySelectorAll('.response-tab').forEach((t, i) => {
    t.classList.toggle('active', (tab === 'body' && i === 0) || (tab === 'headers' && i === 1));
  });
  document.getElementById('resp-body-tab-' + id).classList.toggle('visible', tab === 'body');
  document.getElementById('resp-headers-tab-' + id).classList.toggle('visible', tab === 'headers');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER PAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const content = document.getElementById('content');
const sidebarNav = document.getElementById('sidebarNav');
let counts = { GET: 0, POST: 0, PUT: 0, DELETE: 0, total: 0 };

API_DATA.forEach((group, gi) => {
  let navHtml = `<div class="nav-group"><div class="nav-group-title">${group.icon} ${group.group}</div>`;
  group.endpoints.forEach((ep, ei) => {
    const id = `ep-${gi}-${ei}`;
    navHtml += `<a class="nav-link" onclick="scrollToCard('${id}')" title="${ep.path}">
      <span class="nav-method ${mc(ep.method)}">${ep.method}</span>
      <span class="nav-path">${ep.path}</span></a>`;
    counts[ep.method]++;
    counts.total++;
  });
  navHtml += '</div>';
  sidebarNav.innerHTML += navHtml;

  let secHtml = `<div class="section" id="section-${group.id}">
    <div class="section-header">
      <div class="section-icon">${group.icon}</div>
      <div class="section-title">${group.group}</div>
      <div class="section-desc">${group.desc}</div>
    </div>`;

  group.endpoints.forEach((ep, ei) => {
    const id = `ep-${gi}-${ei}`;
    epRegistry[id] = ep;

    let bodyHtml = '';
    if (ep.params && ep.params.length > 0)
      bodyHtml += `<div class="detail-group"><div class="detail-label">íŒŒë¼ë¯¸í„°</div>${renderParams(ep.params)}</div>`;
    if (ep.request)
      bodyHtml += `<div class="detail-group"><div class="detail-label">ìš”ì²­ ë³¸ë¬¸ (Request Body)</div>${renderSchemaTable(ep.request)}</div>`;
    if (ep.response)
      bodyHtml += `<div class="detail-group"><div class="detail-label">ì‘ë‹µ (Response)</div>${renderSchemaTable(ep.response)}</div>`;
    bodyHtml += `<div class="detail-group"><div class="detail-label">ìƒíƒœ ì½”ë“œ</div>${renderStatuses(ep.statuses)}</div>`;
    if (ep.notes)
      bodyHtml += `<div class="detail-group"><div class="detail-label">ë¹„ê³ </div><div style="font-size:13px;color:var(--text-secondary);line-height:1.7;">${ep.notes}</div></div>`;

    // Try It Out section
    bodyHtml += buildTrySection(ep, id, group.isAdmin);

    secHtml += `<div class="api-card ${mc(ep.method)}" id="${id}" data-method="${ep.method}" data-path="${ep.path}" data-desc="${ep.desc}">
      <div class="card-header" onclick="toggleCard('${id}')">
        <span class="method-badge ${mc(ep.method)}">${ep.method}</span>
        <span class="card-path">${ep.path}</span>
        <span class="card-desc">${ep.desc}</span>
        ${ep.auth ? '<span class="auth-tag">ğŸ”’ ì¸ì¦ í•„ìš”</span>' : ''}
        <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m9 18 6-6-6-6"/></svg>
      </div>
      <div class="card-body">${bodyHtml}</div>
    </div>`;
  });

  secHtml += '</div>';
  content.innerHTML += secHtml;
});

document.getElementById('totalCount').textContent = counts.total;
document.getElementById('getCount').textContent = counts.GET;
document.getElementById('postCount').textContent = counts.POST;
document.getElementById('putCount').textContent = counts.PUT;
document.getElementById('deleteCount').textContent = counts.DELETE;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// UI INTERACTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleCard(id) { document.getElementById(id).classList.toggle('open'); }

function scrollToCard(id) {
  const el = document.getElementById(id);
  if (!el) return;
  el.classList.add('open');
  el.scrollIntoView({ behavior: 'smooth', block: 'center' });
  el.style.boxShadow = '0 0 0 2px var(--accent)';
  setTimeout(() => { el.style.boxShadow = ''; }, 1500);
  document.getElementById('sidebar').classList.remove('open');
  document.getElementById('overlay').classList.remove('show');
}

function filterAPIs() {
  const q = document.getElementById('searchInput').value.toLowerCase().trim();
  const cards = document.querySelectorAll('.api-card');
  const sections = document.querySelectorAll('.section');
  let visible = 0;
  cards.forEach(card => {
    const match = !q || card.dataset.method.toLowerCase().includes(q) || card.dataset.path.toLowerCase().includes(q) || card.dataset.desc.toLowerCase().includes(q);
    card.style.display = match ? '' : 'none';
    if (match) visible++;
  });
  sections.forEach(sec => {
    sec.style.display = sec.querySelectorAll('.api-card:not([style*="display: none"])').length > 0 ? '' : 'none';
  });
  document.getElementById('noResults').style.display = visible === 0 ? 'block' : 'none';
}

function toggleSidebar() {
  document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('overlay').classList.toggle('show');
}

window.addEventListener('scroll', () => {
  document.getElementById('scrollTop').classList.toggle('visible', window.scrollY > 400);
});
</script>
</body>
</html>
