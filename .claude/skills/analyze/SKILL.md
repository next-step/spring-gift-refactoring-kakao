---
name: analyze
description: 코드베이스를 분석하고 docs/ 하위에 분석 보고서를 작성하는 스킬. 사용자가 분석 대상을 지정하면 해당 영역을 심층 분석한다.
---

# Analyze Skill

코드베이스의 특정 영역을 분석하고, 구조화된 보고서를 `docs/` 디렉터리에 작성하는 스킬이다.

## 핵심 원칙

1. **소스코드 수정 금지** — 분석 스킬은 코드를 읽기만 한다. 어떤 소스코드도 수정하지 않는다.
2. **보고서 필수 작성** — 분석 결과는 반드시 `docs/` 하위에 마크다운 파일로 작성한다.
3. **근거 기반 분석** — 주관적 판단이 아닌, 코드에서 확인 가능한 사실에 기반하여 분석한다.

---

## 보고서 작성 규칙

### 파일 위치 및 명명

```
docs/[분석주제]-분석.md
```

예시:
- `docs/api-엔드포인트-분석.md`
- `docs/미사용-코드-분석.md`
- `docs/서비스-계층-분석.md`

### 보고서 구조

모든 분석 보고서는 다음 구조를 따른다:

```markdown
# [분석 주제] 분석 보고서

> 분석 일자: YYYY-MM-DD
> 분석 범위: [분석 대상 요약]

## 1. 분석 목적

이 분석을 수행하는 이유와 기대하는 결과를 명시한다.

## 2. 분석 범위

분석 대상 파일, 패키지, 모듈 목록을 나열한다.

## 3. 분석 결과

### 3-N. [항목명]

각 분석 항목에 대해:
- **현재 상태**: 코드에서 확인한 사실
- **발견 사항**: 주목할 점, 문제점, 패턴
- **근거**: 해당 파일 경로와 라인 번호

## 4. 종합 요약

분석 결과를 테이블 또는 목록으로 정리한다.

## 5. 권장 사항 (선택)

분석 결과에 따른 후속 작업을 제안한다.
```

---

## 작업 절차

### 1단계: 분석 범위 확정

사용자가 지정한 분석 대상을 확인하고, 관련 파일과 패키지를 식별한다.

```
1. 사용자 요청에서 분석 대상 파악
2. 관련 파일/패키지 목록 수집 (Glob, Grep 활용)
3. 분석 범위를 사용자에게 확인 (필요시)
```

### 2단계: 코드 분석 수행

분석 대상을 체계적으로 읽고 분석한다.

```
1. 대상 파일 전체 읽기
2. 구조, 의존성, 패턴 파악
3. 발견 사항을 항목별로 정리
4. 각 발견 사항에 파일 경로와 라인 번호를 근거로 기록
```

### 3단계: 보고서 작성

분석 결과를 `docs/` 하위에 마크다운 파일로 작성한다.

```
1. 보고서 템플릿에 맞춰 내용 구성
2. docs/[분석주제]-분석.md 파일 생성
3. 사용자에게 보고서 작성 완료를 알림
```

---

## 분석 유형별 가이드

### API 엔드포인트 분석

- Controller 클래스 전수 조사
- 각 엔드포인트의 HTTP 메서드, URL, 파라미터, 응답 형태 정리
- 인증/인가 요구사항 식별
- 시나리오(정상/실패) 도출

### 미사용 코드 분석

- import, 필드, 메서드, 클래스 단위 미사용 여부 확인
- 주석-코드 불일치 식별
- dead code 경로 추적
- 각 항목별 삭제 가능 여부 판정 (삭제/보류/확인필요)

### 구조 분석

- 패키지 의존성 방향 분석
- 계층 간 책임 분배 현황
- 중복 코드 식별
- 응집도/결합도 평가

### 스타일 분석

- 네이밍 규칙 일관성
- 코드 포매팅 패턴
- import 정리 상태
- 불필요한 주석/TODO 현황

---

## 주의사항

### 절대 하지 말 것
- 소스코드 수정 (src/main, src/test 포함)
- 빌드 설정 변경
- 의존성 추가/제거
- 추측에 기반한 분석 (반드시 코드에서 확인)

### 반드시 할 것
- 모든 발견 사항에 파일 경로:라인 번호 형식의 근거 첨부
- 보고서를 `docs/` 하위에 작성
- 분석 일자 기록
- 분석 범위 명시