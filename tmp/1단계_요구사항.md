# 1단계 - 리팩터링 준비하기

## 진행 방식
- 미션은 아래 3가지 요구 사항으로 구성된다.
    - 과제 진행 요구 사항
    - 기능 요구 사항
    - 프로그래밍 요구 사항
- 세 요구 사항을 만족하기 위해 노력한다.
- 기능 구현 전 **기능 목록을 만들고**, **기능 단위로 커밋**한다.
- 기능 요구 사항에 없는 내용은 스스로 판단해 구현한다.
- 프로그래밍 요구 사항은 단순 규칙이 아니라 **문제 분해와 명확한 설계 훈련 장치**임을 이해하고 지킨다.
- AI 도구 사용은 가능하지만, **이해 없이 복붙은 불가**하다.

---

## 과제 진행 요구 사항
- 기능 구현 전 `README.md`에 아래를 작성한다.
    - 구현할 기능 목록
    - 구현 전략
- Git 커밋 단위는 `README.md`에 정리한 **기능 목록 단위**로 추가한다.
- 커밋 메시지는 **AngularJS Git Commit Message Conventions**를 참고해 작성한다.
- AI 도구를 활용했다면 `README.md`에 아래를 기록한다.
    - 활용한 방식
    - 코드를 어떻게 수정했는지
    - 무엇을 학습했는지

---

## 기능 요구 사항
> 이번 단계 목표: **작동은 유지**하면서 구조 변경을 통해 **변경 난이도를 낮춘다.**

### 1) 스타일 정리
- 프로젝트 전반의 **스타일 불일치**를 찾아 **일관되게 정리**한다.
- 스타일 정리로 인해 **작동이 바뀌면 안 된다.**

### 2) 불필요한 코드 제거 (작동 변경 없음)
- IDE/정적 분석 도구가 **"미사용"**으로 표시하는 항목을 제거할 수 있다.
- 삭제 전 반드시 근거를 확인한다.
    - 주변 주석 또는 TODO에 의도가 있는가
    - `git blame`으로 누가/왜 추가했는가
    - 이후 단계(작동 변경)와 충돌하지 않는가

### 3) 서비스 계층 추출 (구조 변경, 작동 변경 없음)
- Controller의 비즈니스 로직을 **Service로 이동**한다.
- Controller는 **요청 검증 + 위임만** 담당하도록 얇게 만든다.
- 이 단계에서는 **신규 기능을 추가하지 않는다.**

---

## 프로그래밍 요구 사항

### 기본 원칙
- 코드를 포기하지 않는다.
- AI를 쓰더라도 "행동만 맞으면 된다"로 끝내지 않는다.
- 코드 품질/복잡도/테스트/커버리지를 계속 확인한다.
- 목표는 "AI가 다 해줌"이 아니라 **"내가 더 중요한 결정을 더 많이 하는 것"**이다.

### 계획 파일을 기준점으로 삼는다
- 작업은 항상 **지금 할 다음 한 가지가 명확**해야 한다.
- 코드 수정을 시작하기 전에 `plan` 또는 `README.md` 체크리스트에 **다음 작업이 적혀 있어야 한다.**

### TDD 루프 유지
- 가능하면 **Red → Green → Refactor** 순서로 진행한다.
- 최소 요구 사항은 **변경 후 전체 테스트 통과**다.

### 구조 변경과 작동 변경을 섞지 않는다
- 구조 변경은 **구조만**, 작동 변경은 **작동만** 다룬다.
- 한 커밋에는 둘 중 **하나만** 담는다.

### AI가 앞서 달리면 즉시 멈춘다
- 반복/복잡도가 늘어나거나, 요청하지 않은 작동을 추가하려 하면 즉시 중단한다.
- 테스트를 회피하거나 비활성화하려는 흔적이 보이면 즉시 되돌린다.

### 한 번에 한 조각만 바꾼다
- 범위를 **"다음 변경 1개"**처럼 제한한다.
- AI에게도 **"지금은 이것만"**을 명확히 지시한다.

### 커밋 규칙
- 커밋은 **논리 단위**, **설명 가능한 diff**로만 한다.
- 커밋은 **목적 1개**로 구성한다.
- `git diff`를 보고 커밋 의도를 **30초 안에 설명**할 수 없으면 더 쪼갠다.

### AI 산출물 검증
- AI는 초안을 만들 뿐, 설계/검증 책임은 개발자에게 있다.
- 중간 결과를 자주 확인한다.
- 의도하지 않은 변경이 없으면 즉시 제거한다.

---

## 힌트
- 스타일은 도구로 해결할 수 있다면 도구를 우선한다.
    - 포매터, 린터, IDE 인스펙션 등
- AI에게 요청할 때는 아래를 함께 제공한다.
    - 목표
    - 범위(수정 파일)
    - 제약
    - 검증 명령