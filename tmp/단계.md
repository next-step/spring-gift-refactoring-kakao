# 전체 작업 단계

## 단계 1: 스타일 정리
- 목표: 스타일 불일치 통일 (작동 변경 없음)
- 대상: `@author/@since` 제거, `@Autowired` 제거, 빈 줄 통일, `.toList()` 통일, 블록 주석 제거
- 검증: `./gradlew test`
- 리스크: 없음

## 단계 2: 불필요한 코드 제거
- 목표: 미사용 코드 정리 (작동 변경 없음)
- 대상: `OrderController.wishRepository` 제거, `Collectors` import 제거
- 검증: `./gradlew test` + 컴파일 확인
- 리스크: wishRepository는 `// 6. cleanup wish` 주석으로 보아 미구현 기능이었을 수 있음 -> git blame으로 확인함

## 단계 3: OrderController -> OrderService
- 목표: 주문 관련 비즈니스 로직을 Service로 이동
- 대상: 옵션 검증, 재고 차감, 포인트 차감, 주문 저장, 카카오 알림
- 검증: `./gradlew test`
- 리스크: 트랜잭션 경계가 바뀔 수 있음

## 단계 4: MemberController -> MemberService
- 목표: 회원가입/로그인 로직을 Service로 이동
- 대상: 이메일 중복 검사, 회원 생성, 비밀번호 검증, 토큰 발급
- 검증: `./gradlew test`

## 단계 5: KakaoAuthController -> KakaoAuthService
- 목표: OAuth 로직을 Service로 이동
- 대상: OAuth URL 생성, 토큰 교환, 사용자 정보 조회, 회원 등록/갱신, JWT 발급
- 검증: `./gradlew test`

## 단계 6: OptionController -> OptionService
- 목표: 옵션 관련 비즈니스 로직을 Service로 이동
- 대상: 옵션명 검증, 중복 검사, 최소 옵션 수 제약
- 검증: `./gradlew test`

## 단계 7: WishController -> WishService
- 목표: 위시 관련 비즈니스 로직을 Service로 이동
- 대상: 상품 검증, 중복 위시 검사, 소유자 확인
- 검증: `./gradlew test`

## 단계 8: ProductController + AdminProductController -> ProductService
- 목표: 상품 관련 로직을 Service로 이동하고 두 컨트롤러에서 공유
- 대상: 상품명 검증, 카테고리 검증, CRUD
- 검증: `./gradlew test`
- 리스크: API는 `allowKakao=false`, Admin은 `allowKakao=true`로 동작이 다름 -> 파라미터로 구분

## 단계 9: AdminMemberController -> MemberService 연결
- 목표: 단계 4에서 만든 MemberService를 Admin에서도 재사용
- 대상: 이메일 중복 검사, 회원 CRUD, 포인트 충전
- 검증: `./gradlew test`

## 단계 10: CategoryController -> CategoryService
- 목표: 일관성을 위해 단순 CRUD도 Service 계층으로 이동
- 검증: `./gradlew test`

## 단계 11: 최종 검증
- 전체 테스트 통과 확인
- 모든 Controller가 Service에 위임하는지 확인
- 불필요한 코드 잔여 여부 확인
- README 체크리스트 최종 갱신
